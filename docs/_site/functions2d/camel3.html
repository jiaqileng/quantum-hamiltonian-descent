<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Camel3</title>
    <link rel="stylesheet" href="/quantum-hamiltonian-descent/assets/css/styles.css">
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script>
  </head>
  <body>
    <div id="nav-content-footer">
      <div id="nav-title">
  Quantum Hamiltonian Descent â€” QHD
</div>
<nav>
  <div id="nav-links-holder">
  
    <a href="/quantum-hamiltonian-descent/"
    
    >Home</a>
  
    <a href="/quantum-hamiltonian-descent/nonconvex2d.html"
    
    >Nonconvex 2D</a>
  
    <a href="/quantum-hamiltonian-descent/qp.html"
    
    >Quadratic Programming</a>
  
    <a href="/quantum-hamiltonian-descent/blog.html"
    
    >Details</a>
  
    <a href="/quantum-hamiltonian-descent/staff.html"
    
    style="margin-left:auto; color:var(--dark-gray); background-color:var(--medium-accent); border-radius: 10px;">About Us</a>
  
  </div>
</nav>

      <div id="page-content">
        
<div class="data-container">
  <div class="data-two-col">
    <div class="data-l-col">
      <div class="fn-description">
        <h1 id="camel-3">Camel 3</h1>

<p>The Camel 3 function is defined as:</p>

<h3 id="beginalignbeginsplit-fxy---2x2---105x4--fracx66--xy--y2-endsplitendalign">\(\begin{align}\begin{split} f(x,y) = &amp;\, 2x^2 - 1.05x^4 \\&amp;+ \frac{x^6}{6} + xy + y^2 \end{split}\end{align}\)</h3>

      </div>
      <div class="fn-viewer-container">
  <div id="fn-viewer-2d"></div>
</div>

<script type="text/javascript">
  
  

  plot_fn = async function() {
    var target_url = "/quantum-hamiltonian-descent/assets/plotdata/camel3-fn.csv"
    var meta_url = "/quantum-hamiltonian-descent/assets/plotdata/camel3-fnmeta.csv";

    meta_response = await d3.csv(meta_url);
    meta_dict = meta_response[0];

    var num_rows = parseInt(meta_dict["num_rows"]);
    var items_per_row = parseInt(meta_dict["items_per_row"]);

    var frame = [{
      name: "fn surface",
      data: [{
        z: new Array(num_rows),
        type: "surface",
        colorscale: "Viridis"
      }]
    }]


    for(row_idx = 0; row_idx < num_rows; row_idx++) {
      frame[0].data[0].z[row_idx] = new Array(items_per_row);
    }

    console.log(target_url);
    await d3.csv(target_url, function(row) {
      for (const [key, value] of Object.entries(row)) {
        // Column headers are of the form: x1;x2.
        let [h_x1, h_x2] = key.split(';');
        h_x1 = parseInt(h_x1);
        h_x2 = parseInt(h_x2);

        // THIS DATA WAS FLATTENED IN MATLAB
        frame[0].data[0].z[h_x2][h_x1] = value;
        console.log(h_x2);
      }
    });

    NUM_STEPS = 256;
    NUM_TICKS = 9;
    RANGE = Array.from(Array(NUM_TICKS), (x, i) =>  i * NUM_STEPS / (NUM_TICKS-1));

    TICKTEXT = ["0"].concat(Array.from(RANGE.slice(1, -1), (x, i) => (x).toString()+"/"+NUM_STEPS.toString())).concat(["1"]);
    TICKVALS = [0].concat(RANGE.slice(1, -1)).concat([NUM_STEPS]);

    var layout = {
      title: 'camel3 Surface Plot',
      x: Array.from({length: num_rows}, (x, i) => i),
      y: Array.from({length: items_per_row}, (x, i) => i),
      scene: {
        xaxis: {
          ticktext: TICKTEXT,
          tickvals: TICKVALS
        },
        yaxis: {
          ticktext: TICKTEXT,
          tickvals: TICKVALS
        }
      },
      autosize: false,
      width: 500,
      height: 500,
      margin: {
        l: 65,
        r: 50,
        b: 65,
        t: 90,
      }
    };

    // console.log(frame[0].data[0].z);

    Plotly.newPlot('fn-viewer-2d', {
      data: frame[0].data,
      layout: layout,
      frames: frame
    });
  }

  plot_fn();
</script>

    </div>
    <div class="data-r-col">
      <div class="data-viewer-container">
  <div id="data-viewer-2d"></div>
</div>

<script type="text/javascript">
  
  

  plot_prob = async function() {
    var target_url = "/quantum-hamiltonian-descent/assets/plotdata/camel3.csv"
    var meta_url = "/quantum-hamiltonian-descent/assets/plotdata/camel3-meta.csv";

    meta_response = await d3.csv(meta_url);
    meta_dict = meta_response[0];

    var num_frames = parseInt(meta_dict["num_frames"]);
    var num_rows = parseInt(meta_dict["num_rows"]);
    var items_per_row = parseInt(meta_dict["items_per_row"]);
    var frames = new Array(num_frames);

    STEP_SIZE = 1/64;

    for(frame_idx = 0; frame_idx < num_frames; frame_idx++) {
      frames[frame_idx] = {
        name: "f"+frame_idx.toString(),
        data: [{
          z: new Array(num_rows),
          type: "surface",
          colorscale: "Viridis"
        }]
      };
      for(row_idx = 0; row_idx < num_rows; row_idx++) {
        frames[frame_idx].data[0].z[row_idx] = new Array(items_per_row);
      }
    }

    var frame_idx = 0;
    await d3.csv(target_url, function(row) {
      for (const [key, value] of Object.entries(row)) {
        // Column headers are of the form: x1;x2.
        // This allows us to key the location on the domain when writing the
        // wave function data to the CSV file.
        let [h_x1, h_x2] = key.split(';');
        h_x1 = parseInt(h_x1);
        h_x2 = parseInt(h_x2);

        // THIS DATA WAS FLATTENED IN PYTHON
        frames[frame_idx].data[0].z[h_x1][h_x2] = value;
      }
      ++frame_idx;
    });

    // Easy deep copy
    first_frame = JSON.parse(JSON.stringify(frames[0]))

    var sliderSteps = [];

    SHORT_START = 0;
    SHORT_STOP = 1;
    SHORT_STEP = 0.1;
    num_short = Math.round((SHORT_STOP - SHORT_START) / SHORT_STEP);

    LONG_STOP = 10;
    LONG_STEP = 0.5;
    num_long = 1 + Math.round((LONG_STOP - SHORT_STOP) / LONG_STEP);

    for (i = SHORT_START; i < num_short; i++) {
      sliderSteps.push({
        method: "animate",
        label: "T="+(0.1*i).toString().substring(0,3),
        args: [["f"+i.toString()], {
          mode: "immediate",
          transition: {duration: 0},
          frame: {duration: 0, redraw: true},
        }]
      });
    }

    for (i = 0; i < num_long; i++) {
      sliderSteps.push({
        method: "animate",
        label: "T="+(SHORT_STOP + LONG_STEP*i).toString(),
        args: [["f"+(num_short + i).toString()], {
          mode: "immediate",
          transition: {duration: 0},
          frame: {duration: 0, redraw: true},
        }]
      });
    }

    // For equal time spacing, use
    // for (i = 0; i < num_frames; i++) {
    //   sliderSteps.push({
    //     method: "animate",
    //     label: "T="+(2.5*i).toString(),
    //     args: [["f"+i.toString()], {
    //       mode: "immediate",
    //       transition: {duration: 0},
    //       frame: {duration: 0, redraw: true},
    //     }]
    //   });
    // }

    NUM_STEPS = 64;
    NUM_TICKS = 9;
    RANGE = Array.from(Array(NUM_TICKS), (x, i) =>  i * NUM_STEPS / (NUM_TICKS-1));

    TICKTEXT = ["0"].concat(Array.from(RANGE.slice(1, -1), (x, i) => (x).toString()+"/"+NUM_STEPS.toString())).concat(["1"]);
    TICKVALS = [0].concat(RANGE.slice(1, -1)).concat([64]);

    var layout = {
      title: "camel3",
      x: Array.from({length: num_rows}, (x, i) => i),
      y: Array.from({length: items_per_row}, (x, i) => i),
      scene: {
        xaxis: {
          ticktext: TICKTEXT,
          tickvals: TICKVALS
        },
        yaxis: {
          ticktext: TICKTEXT,
          tickvals: TICKVALS
        }
      },

      updatemenus: [{
        x: 0,
        y: 0,
        xanchor: "top",
        yanchor: "left",
        active: -1,
        showactive: true,
        direction: "left",
        type: "buttons",

        buttons: [
        {
          label: "<<",
          method: "animate",
          args: [[frames.at(0).name], {
            mode: "immediate",
            transition: {duration: 0},
            frame: {duration: 0, redraw: true}
          }]
        },
        {
          label: "Play / Pause",
          method: "animate",
          args: [null, {
            mode: "immediate",
            fromcurrent: true,
            transition: {duration: 0},
            frame: {duration: 500, redraw: true}
          }],
          args2: [[null], {
            mode: "immediate",
            fromcurrent: true,
            transition: {duration: 0},
            frame: {duration: 0, redraw: false}
          }]
        },
        {
          label: ">>",
          method: "animate",
          args: [[frames.at(-1).name], {
            mode: "immediate",
            transition: {duration: 0},
            frame: {duration: 0, redraw: true}
          }]
        },]
      }],

      sliders: [{
        steps: sliderSteps,
        currentvalue: {
          visible: true,
          prefix: "Frame: ",
          xanchor: "right",
        },
        len: 1,
        pad: {l: 20}
      }],

      autosize: false,
      width: 700,
      height: 700,
      margin: {
        l: 65,
        r: 50,
        b: 65,
        t: 90,
      }
    };

    Plotly.newPlot("data-viewer-2d", {
      data: first_frame.data,
      layout: layout,
      frames: frames
    });

    var myPlot = document.getElementById("data-viewer-2d")
    myPlot.on("plotly_sliderchange", function(e){
      console.log(e.step.label);
    });
  }

  plot_prob();
</script>

    </div>
  </div>

  <div class="plots-2d">
    <div class="method-comparison-plot">
      <figure>
        <img src="/quantum-hamiltonian-descent/assets/images/scatterplots/camel3_scatter.png" alt="Comparison of optimization methods on camel3" width="620" height="570">
        <figcaption></figcaption>
      </figure>
    </div>

    <div class="three-phase-plot">
      <figure>
        <img src="/quantum-hamiltonian-descent/assets/images/threephaseplots/camel3_three_phase.png" alt="3-Phase Diagrams" width="1200" height="650">
        <figcaption>Description of subplots</figcaption>
      </figure>
    </div>
  </div>

  <div class="carousel2d">
    <h2>2D Functions</h2>
    <div class="carousel">
  
    <a href="/quantum-hamiltonian-descent/functions2d/ackley.html">
      <div class="fn-card">
        <h3>Ackley</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/ackley_thumb.png" alt="ackley preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/ackley2.html">
      <div class="fn-card">
        <h3>Ackley 2</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/ackley2_thumb.png" alt="ackley2 preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/alpine1.html">
      <div class="fn-card">
        <h3>Alpine 1</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/alpine1_thumb.png" alt="alpine1 preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/alpine2.html">
      <div class="fn-card">
        <h3>Alpine 2</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/alpine2_thumb.png" alt="alpine2 preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/bohachevsky2.html">
      <div class="fn-card">
        <h3>Bohachevsky 2</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/bohachevsky2_thumb.png" alt="bohachevsky2 preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/camel3.html">
      <div class="fn-card">
        <h3>Camel 3</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/camel3_thumb.png" alt="camel3 preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/csendes.html">
      <div class="fn-card">
        <h3>Csendes</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/csendes_thumb.png" alt="csendes preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/defl_corr_spring.html">
      <div class="fn-card">
        <h3>Deflected Corrugated Spring</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/defl_corr_spring_thumb.png" alt="defl_corr_spring preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/dropwave.html">
      <div class="fn-card">
        <h3>Dropwave</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/dropwave_thumb.png" alt="dropwave preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/easom.html">
      <div class="fn-card">
        <h3>Easom</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/easom_thumb.png" alt="easom preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/griewank.html">
      <div class="fn-card">
        <h3>Griewank</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/griewank_thumb.png" alt="griewank preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/holder.html">
      <div class="fn-card">
        <h3>Holder Table</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/holder_thumb.png" alt="holder preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/hosaki.html">
      <div class="fn-card">
        <h3>Hosaki</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/hosaki_thumb.png" alt="hosaki preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/levy.html">
      <div class="fn-card">
        <h3>Levy</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/levy_thumb.png" alt="levy preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/levy13.html">
      <div class="fn-card">
        <h3>Levy 13</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/levy13_thumb.png" alt="levy13 preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/michalewicz.html">
      <div class="fn-card">
        <h3>Michalewicz</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/michalewicz_thumb.png" alt="michalewicz preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/rastrigin.html">
      <div class="fn-card">
        <h3>Rastrigin</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/rastrigin_thumb.png" alt="rastrigin preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/rosenbrock.html">
      <div class="fn-card">
        <h3>Rosenbrock</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/rosenbrock_thumb.png" alt="rosenbrock preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/shubert.html">
      <div class="fn-card">
        <h3>Shubert</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/shubert_thumb.png" alt="shubert preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/styblinski_tang.html">
      <div class="fn-card">
        <h3>Styblinski-Tang</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/styblinski_tang_thumb.png" alt="styblinski_tang preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/sumofsquares.html">
      <div class="fn-card">
        <h3>Sum of Squares</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/sumofsquares_thumb.png" alt="sumofsquares preview">
      </div>
    </a>
  
    <a href="/quantum-hamiltonian-descent/functions2d/xinsheyang3.html">
      <div class="fn-card">
        <h3>Xin-She Yang 3</h3>
        <img class="fn-thumb" src="/quantum-hamiltonian-descent/assets/images/thumbnails/xinsheyang3_thumb.png" alt="xinsheyang3 preview">
      </div>
    </a>
  
</div>

  </div>
</div>

      </div>
      <footer>Copyright 2022 Wu Group</footer>

    </div>
  </body>
</html>
